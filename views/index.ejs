<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
    <link rel='stylesheet' href='/stylesheets/style.css?v=2' />
    <style type="text/css">
    body {background: #f7f7f7;}
    .hide {display: none;}
    * {-webkit-box-sizing:border-box;}
    #editable_ct {
    	max-width: 320rem;
    }
    #editable {
		list-style: none;
		margin: 0;
		padding: 0;
		border: 1rem solid #eee;
		background: #fff;
		border-radius: 8rem;
    }
	#editable li {
		position: relative;
		cursor: move;
		padding: 10rem 20rem;
	}
	#editable i {
		-webkit-transition: opacity .2s;
		transition: opacity .2s;
		opacity: 0;
		display: block;
		cursor: pointer;
		color: #c00;
		top: 50%;
		margin-top: -6rem;
		right: 20rem;
		position: absolute;
		font-style: normal;
		font-size: 20rem;
		font-weight: 300;		
	}

	#editable li:hover i {
		opacity: 1;
	}
	.drag-handle {
		margin-right: 10rem;
		font: bold 18rem Sans-Serif;
		color: #5F9EDF;
		display: inline-block;
		cursor: move;
		cursor: -webkit-grabbing;  /* overrides 'move' */
	}
	.stock_nav > li.on {
		color: white;
		background: #ccc;
	}	
	.stock_nav {
		margin: 10rem 0;
	}
	.stock_nav > li {
		cursor: pointer;
		display: inline-block;
		border: 1rem soild #ccc;
		background: #f7f7f7;
		padding: 6rem 16rem;
		margin: 0 6rem;
		border-radius: 8rem;
	}
	.results {
		line-height: 22rem;
		border: 1rem solid #eee;
		background: #fff;
		max-width: 360rem;
		padding: 6rem 20rem;
	}
	.add {
		padding: 8rem;
		font-size: 14rem;
		font-weight: 300;
		width: 100%;
		border: 1rem solid #eee;
		margin-top: 10rem;
		background: #fff;
		border-radius: 8rem;
	}		
	.search {
		padding: 8rem;
		min-width: 160rem;
		border: 1rem solid #eee;
		border-radius: 8rem;
		font-size: 14rem;
	}
    </style>
    <script type="text/javascript">
    	void function() {
	        var phoneWidth = parseInt(window.screen.width);
	        var rootEle = document.documentElement;
	        var clientWidth = rootEle.getBoundingClientRect().width;
	        window.rem = clientWidth / 320;
	        rootEle.style.fontSize = window.rem + "px";
    	}();
    </script>
  </head>
  <body>
	<div id="stock-search">
		<input class="search" placeholder="input code to search" type="text" v-model="code" @keyup.enter="getPrice" />
		<p>{{ result }}</p>
	</div>
	<div id="stock_ct">
		<ul class="stock_nav">
			<li @click="switchTab" v-bind:class="[currentView=='realtime'?'on':'off']">realtime</li>
			<li @click="switchTab" v-bind:class="[currentView=='edit'?'on':'off']">edit</li>
		</ul>
		<component :is="currentView" ></component>
	</div>
	<template id="results-template">
		<section id="results_ct">
			<div class="results">{{{ results }}}</div>
		</section>
	</template>
	<template id="editable-template">
		<section id="editable_ct">
			<ul id="editable">
			<li v-for="stock in stocks" track-by="$index"><!--span class="drag-handle">☰</span>--><span class="code">{{ stock }}</span><i class="js-remove">✖</i></li>
			</ul>
			<input class="add" type="text" @keyup.enter="add" placeholder="add new stock here, press enter to add" />
		</section>
	</template>
	<script type="text/javascript" src="/javascripts/build/index.build.js?v=1"></script>
	<!--script type="text/javascript" src="/javascripts/vue-dev.js"></script>-->
    <script type="text/javascript">
		
    </script>
  </body>
</html>
